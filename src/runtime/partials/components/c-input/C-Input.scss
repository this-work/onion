$c-input-placeholder-opacity: .5 !default;

.c-input {
  $module: &;
  display: flex;
  flex-wrap: wrap;
  align-items: stretch;
  position: relative;
  width: 100%;

  &__label {
    display: block;
    flex-shrink: 0;
    flex-grow: 0;
    width: 100%;
    user-select: none;
    margin-bottom: spacing('xxxs');
    @include font-style("form-label");
    span {
      font: inherit;
    }
  }

  &__field {
    display: flex;
    flex-wrap: nowrap;
    align-items: stretch;
    position: relative;
    flex-shrink: 0;
    flex-grow: 0;
    width: 100%;
  }

  &__prefix,
  &__suffix {
    display: flex;
    align-items: center;
    flex-shrink: 0;
    flex-grow: 0;
    order: 10;
    margin: 0 spacing('xxxs') 0 0;
    user-select: none;
    @include font-style("form-text");
    span {
      font: inherit;
    }
  }

  &__suffix {
    order: 30;
    margin: 0 0 0 spacing('xxxs');
  }

  &__form-element {
    position: relative;
    z-index: 1;
    width: 100%;
    order: 20;
    margin: 0;
    padding: spacing('xxs') spacing('xs');
    border-width: 1px;
    border-style: solid;
    border-radius: border-radius('xs');
    outline-style: solid;
    outline-width: unitize(1px);
    outline-offset: unitize(3px);
    outline-color: transparent;
    background: transparent;
    font: inherit;
    cursor: text;
    transition: transition(all);
    @include color-palette("input");
    @include font-style("form-text");

    /// Workaround for the undeletable background-color
    /// of the chrome password manager
    &:-webkit-autofill,
    &:-webkit-autofill:hover,
    &:-webkit-autofill:active,
    &:-webkit-autofill:focus,
    &:-webkit-autofill:first-line {
      -webkit-box-shadow: 0 0 0 1000px transparent inset!important;
      -webkit-background-clip: text!important;
      font: inherit!important;
    }

    &::placeholder{
      opacity: $c-input-placeholder-opacity;
      color: inherit;
    }
    &::-webkit-input-placeholder{
      opacity: $c-input-placeholder-opacity;
      color: inherit;
    }

    &[disabled] {
      cursor: default;
      & + #{$module}__label-text {
        cursor: default;
      }
    }

    &[type="password"] {
      font: small-caption;
      font-size: unitize(24px);
    }

    &[type="number"] {
      -moz-appearance:textfield;
      appearance: textfield;
      &::-webkit-inner-spin-button,
      &::-webkit-outer-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }
    }
  }

  &__instruction {
    display: block;
    flex-shrink: 0;
    flex-grow: 0;
    width: 100%;
    @include font-style("form-label");
    span {
      font: inherit;
    }
  }
}
