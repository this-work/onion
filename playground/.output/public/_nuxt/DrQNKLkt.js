import G from"./B2T_uL4U.js";import{S as U,M as Z,N as V,i as N,O as K,h as L,P as E,g as R,Q as X,R as J,U as j,V as ee,W as te,X as re,Y as oe,Z as M,u as se,_ as ne,c as k,o as w,k as h,a as q,l as $,v as O,$ as ie,a0 as ae,p as T,b as F,m as W,e as le,f as B,w as x,n as C,s as ce,a1 as ue,F as H,r as Y,q as pe}from"#entry";import{u as de,a as fe}from"./gzcLGXkW.js";import ge from"./vYbKS9gG.js";import{u as I}from"./D2BD6qtZ.js";import{u as ye}from"./BIjOWhqp.js";import{u as me}from"./seTeM-B7.js";import{u as he}from"./BCKEK9L1.js";import"./C1ZMWf9l.js";import"./Bl9cRlOg.js";import"./B_DsULIv.js";import"./Bj5V1BP1.js";import"./D-jC5LXE.js";function be(o={}){const t=[];let a=-1;const e=(s=!1)=>({get(l,c,p){if(!s){const d=Reflect.get(l,c,p);if(typeof d<"u")return d;a++,t[a]=[]}return t[a].push({type:"get",key:c}),new Proxy(()=>{},e(!0))},apply(l,c,p){t[a].push({type:"apply",key:"",args:p})}});return{proxy:new Proxy(o||{},e()),stack:t}}function ve(o){const t={get(a,e,s){const l=Reflect.get(a,e,s);return typeof l=="object"?new Proxy(l,t):l},apply(a,e,s){Reflect.apply(a,e,s)}};return new Proxy(o,t)}function we(o,t){t.forEach(a=>{let e=o,s=o;a.forEach(({type:l,key:c,args:p})=>{l==="get"?(s=e,e=e[c]):l==="apply"&&(e=e.call(s,...p))})})}function _e(o){return o.key||o.src||(typeof o.innerHTML=="string"?o.innerHTML:"")}const Pe=["preconnect","dns-prefetch"];function ke(o,t,a){const e=typeof t=="string"?{src:t}:t,s=a||{},l=_e(e),c=o._scripts?.[l];if(c)return c.setupTriggerHandler(s.trigger),c;s.beforeInit?.();const p=r=>{n.status=r,o.hooks.callHook("script:updated",P)};U.forEach(r=>{const i=r,u=typeof e[i]=="function"?e[i].bind(s.eventContext):null;e[i]=f=>{p(r==="onload"?"loaded":r==="onerror"?"error":"loading"),u?.(f)}});const d={loaded:[],error:[]},y=new Set,v=(r,i,u)=>{if(!o.ssr){if(u?.key){const f=`${u?.key}:${u.key}`;if(y.has(f))return;y.add(f)}if(d[r]){const f=d[r].push(i);return()=>d[r]?.splice(f-1,1)}return i(n.instance),()=>{}}},_=new Promise(r=>{if(o.ssr)return;const i=f=>requestAnimationFrame(()=>r(f)),u=o.hooks.hook("script:updated",({script:f})=>{const m=f.status;if(f.id===l&&(m==="loaded"||m==="error")){if(m==="loaded")if(typeof s.use=="function"){const b=s.use();b&&i(b)}else i({});else m==="error"&&r(!1);u()}})}),n={_loadPromise:_,instance:!o.ssr&&s?.use?.()||null,proxy:null,id:l,status:"awaitingLoad",remove(){return n._triggerAbortController?.abort(),n._triggerPromises=[],n._warmupEl?.dispose(),n.entry?(n.entry.dispose(),n.entry=void 0,p("removed"),delete o._scripts?.[l],!0):!1},warmup(r){const{src:i}=e,u=!i.startsWith("/")||i.startsWith("//"),f=r&&Pe.includes(r);let m=i;if(!r||f&&!u)return;if(f){const g=new URL(i);m=`${g.protocol}//${g.host}`}const b={href:m,rel:r,crossorigin:typeof e.crossorigin<"u"?e.crossorigin:u?"anonymous":void 0,referrerpolicy:typeof e.referrerpolicy<"u"?e.referrerpolicy:u?"no-referrer":void 0,fetchpriority:typeof e.fetchpriority<"u"?e.fetchpriority:"low",integrity:e.integrity,as:r==="preload"?"script":void 0};return n._warmupEl=o.push({link:[b]},{head:o,tagPriority:"high"}),n._warmupEl},load(r){if(n._triggerAbortController?.abort(),n._triggerPromises=[],!n.entry){p("loading");const i={defer:!0,fetchpriority:"low"};e.src&&(e.src.startsWith("http")||e.src.startsWith("//"))&&(i.crossorigin="anonymous",i.referrerpolicy="no-referrer"),n.entry=o.push({script:[{...i,...e}]},s)}return r&&v("loaded",r),_},onLoaded(r,i){return v("loaded",r,i)},onError(r,i){return v("error",r,i)},setupTriggerHandler(r){if(n.status==="awaitingLoad")if((typeof r>"u"||r==="client")&&!o.ssr||r==="server")n.load();else if(r instanceof Promise){if(o.ssr)return;n._triggerAbortController||(n._triggerAbortController=new AbortController,n._triggerAbortPromise=new Promise(u=>{n._triggerAbortController.signal.addEventListener("abort",()=>{n._triggerAbortController=null,u()})})),n._triggerPromises=n._triggerPromises||[];const i=n._triggerPromises.push(Promise.race([r.then(u=>typeof u>"u"||u?n.load:void 0),n._triggerAbortPromise]).catch(()=>{}).then(u=>{u?.()}).finally(()=>{n._triggerPromises?.splice(i,1)}))}else typeof r=="function"&&r(n.load)},_cbs:d};_.then(r=>{r!==!1?(n.instance=r,d.loaded?.forEach(i=>i(r)),d.loaded=null):(d.error?.forEach(i=>i()),d.error=null)});const P={script:n};if(n.setupTriggerHandler(s.trigger),s.use){const{proxy:r,stack:i}=be(o.ssr?{}:s.use()||{});n.proxy=r,n.onLoaded(u=>{we(u,i),n.proxy=ve(u)})}return!s.warmupStrategy&&(typeof s.trigger>"u"||s.trigger==="client")&&(s.warmupStrategy="preload"),s.warmupStrategy&&n.warmup(s.warmupStrategy),o._scripts=Object.assign(o._scripts||{},{[l]:n}),n}function Se(o,t){if(!t)return;const a=(e,s)=>{if(!o._cbs[e])return s(o.instance),()=>{};let l=o._cbs[e].push(s);const c=()=>{l&&(o._cbs[e]?.splice(l-1,1),l=null)};return E(c),c};o.onLoaded=e=>a("loaded",e),o.onError=e=>a("error",e),E(()=>{o._triggerAbortController?.abort()})}function Ce(o,t){const a=typeof o=="string"?{src:o}:o,e=t||{},s=e?.head||Z();e.head=s;const l=V();if(e.eventContext=l,l&&typeof e.trigger>"u")e.trigger=N;else if(K(e.trigger)){const p=e.trigger;let d;e.trigger=new Promise(y=>{d=L(p,v=>{v&&y(!0)},{immediate:!0}),E(()=>y(!1),!0)}).then(y=>(d?.(),y))}s._scriptStatusWatcher=s._scriptStatusWatcher||s.hooks.hook("script:updated",({script:p})=>{p._statusRef.value=p.status});const c=ke(s,a,e);return c._statusRef=c._statusRef||R(c.status),Se(c,l),new Proxy(c,{get(p,d,y){return Reflect.get(p,d==="status"?"_statusRef":d,y)}})}function z(o){return J()?(E(o),!0):!1}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function Re(o){return V()}function $e(o,t=!0,a){Re()?N(o,a):t?o():X(o)}function Ae(o){let t;return new Promise(a=>{t=fe(o,e=>{for(const s of e)s.isIntersecting&&a(!0)},{rootMargin:"30px 0px 0px 0px",threshold:0}),z(()=>a(!1))}).finally(()=>{t.stop()})}function Te(o){const{el:t,trigger:a}=o,e=(Array.isArray(o.trigger)?o.trigger:[o.trigger]).filter(Boolean);if(!a||e.includes("immediate")||e.includes("onNuxtReady"))return"onNuxtReady";if(e.some(c=>["visibility","visible"].includes(c)))return t?Ae(t):new Promise(()=>{});const s={},l=new Promise(c=>{const p=typeof t<"u"?t:document.body,d=de(p,e,()=>{d(),c(!0)},{once:!0,passive:!0});$e(()=>{L(p,y=>{y&&e.forEach(v=>{y.dataset[`script_${v}`]&&(d(),c(!0))})},{immediate:!0})}),z(()=>c(!1))});return Object.assign(l,{ssrAttrs:s})}function Le(){return M().public["nuxt-scripts"]}function xe(o){return o.key||o.src||(typeof o.innerHTML=="string"?o.innerHTML:"")}function Ie(o,t){o=typeof o=="string"?{src:o}:o,t=j(t,Le()?.defaultScriptOptions);const a=String(xe(o)),e=ee();if(t.head=t.head||te(),!t.head)throw new Error("useScript() has been called without Nuxt context.");e.$scripts=e.$scripts||re({}),e.$scripts?.[a],(t.trigger==="onNuxtReady"||t.trigger==="client")&&(t.warmupStrategy||(t.warmupStrategy="preload"),t.trigger==="onNuxtReady"&&(t.trigger=oe));const s=Ce(o,t),l=s.remove;return s.remove=()=>(e.$scripts[a]=void 0,l()),e.$scripts[a]=s,s}Object.freeze(Object.assign(()=>{},{__mock__:!0}));function Oe(o){return(M().public.scripts||{})[o]}function Ee(o,t,a){const e=Oe(o),s=Object.assign(a||{},typeof e=="object"?e:{}),l=t(s),c=j(s.scriptInput,l.scriptInput,{key:o}),p=Object.assign(s?.scriptOptions||{},l.scriptOptions||{}),d=p.beforeInit;return p.beforeInit=()=>{d?.(),l.clientInit?.()},Ie(c,p)}function je(o){let t=Promise.resolve();const a=Ee("youtubePlayer",()=>({scriptInput:{src:"https://www.youtube.com/iframe_api",crossorigin:!1},scriptOptions:{use(){return{YT:window.YT||t.then(()=>window.YT)}}},clientInit:()=>{t=new Promise(e=>{window.onYouTubeIframeAPIReady=e})}}),o);{const e=L(a.status,s=>{s==="loading"&&(se({link:[{rel:"preconnect",href:"https://www.youtube-nocookie.com"},{rel:"preconnect",href:"https://www.google.com"},{rel:"preconnect",href:"https://googleads.g.doubleclick.net"},{rel:"preconnect",href:"https://static.doubleclick.net"}]}),e())})}return a}const qe={},Be={class:"sr-only","aria-label":"Loading...",role:"status"};function Ne(o,t){return w(),k("div",Be)}const He=Object.assign(ne(qe,[["render",Ne],["__scopeId","data-v-2b08c6e7"]]),{__name:"ScriptAriaLoadingIndicator"}),Ye={__name:"ScriptYouTubePlayer",props:{placeholderAttrs:{type:Object,required:!1},rootAttrs:{type:Object,required:!1},aboveTheFold:{type:Boolean,required:!1},trigger:{type:[String,Array,Boolean],required:!1,default:"mousedown"},videoId:{type:String,required:!0},playerVars:{type:null,required:!1,default:{autoplay:0,playsinline:1}},width:{type:Number,required:!1,default:640},height:{type:Number,required:!1,default:360},cookies:{type:Boolean,required:!1,default:!1},playerOptions:{type:null,required:!1},thumbnailSize:{type:String,required:!1,default:"hq720"},webp:{type:Boolean,required:!1,default:!0}},emits:["ready","state-change","playback-quality-change","playback-rate-change","error"],setup(o,{expose:t,emit:a}){const e=o,s=a,l=["onReady","onStateChange","onPlaybackQualityChange","onPlaybackRateChange","onError","onApiChange"],c=R(),p=R(),d=R(!1),y=Te({trigger:e.trigger,el:c}),v=je({scriptOptions:{trigger:y}}),{onLoaded:_,status:n}=v,P=R();let r=!1;e.trigger==="mousedown"&&y instanceof Promise&&y.then(g=>{g&&(r=!0)}),N(()=>{_(async g=>{const A=g.YT instanceof Promise?await g.YT:g.YT;await new Promise(S=>{typeof YT.Player>"u"?A.ready(S):S()}),P.value=new YT.Player(p.value,{host:e.cookies?"https://www.youtube.com":"https://www.youtube-nocookie.com",...e,...e.playerOptions,events:Object.fromEntries(l.map(S=>[S,D=>{const Q=S.replace(/([A-Z])/g,"-$1").replace("on-","").toLowerCase();s(Q,D),S==="onReady"&&(d.value=!0,r&&(P.value?.playVideo(),r=!1),L(()=>e.videoId,()=>{P.value?.loadVideoById(e.videoId)}))}]))})}),L(n,g=>{g==="error"&&s("error")})}),t({player:P});const i=h(()=>j(e.rootAttrs,{"aria-busy":n.value==="loading","aria-label":n.value==="awaitingLoad"?"YouTube Player - Placeholder":n.value==="loading"?"YouTube Player - Loading":"YouTube Player - Loaded","aria-live":"polite",role:"application",style:{cursor:"pointer",position:"relative",backgroundColor:"black",width:"100%",aspectRatio:`${e.width}/${e.height}`},...y instanceof Promise?y.ssrAttrs||{}:{}})),u=h(()=>`https://i.ytimg.com/vi/${e.videoId}/hqdefault.jpg`),f=h(()=>`https://i.ytimg.com/${e.webp?"vi_webp":"vi"}/${e.videoId}/${e.thumbnailSize}.${e.webp?"webp":"jpg"}`),m=R(!1),b=h(()=>j(e.placeholderAttrs,{src:m.value?u.value:f.value,alt:"",loading:e.aboveTheFold?"eager":"lazy",style:{width:"100%",objectFit:"contain",height:"100%"},onLoad(g){const A=g.target;A.naturalWidth===120&&A.naturalHeight===90&&(m.value=!0)}}));return(g,A)=>(w(),k("div",W({ref_key:"rootEl",ref:c},i.value),[q("div",{ref_key:"youtubeEl",ref:p,style:{width:"100%",height:"100%",position:"absolute",top:"0",left:"0"}},null,512),d.value?O("",!0):$(g.$slots,"placeholder",{key:0,placeholder:f.value},()=>[q("img",ie(ae(b.value)),null,16)]),T(n)==="loading"?$(g.$slots,"loading",{key:1},()=>[F(He)]):O("",!0),T(n)==="awaitingLoad"?$(g.$slots,"awaitingLoad",{key:2}):T(n)==="error"?$(g.$slots,"error",{key:3}):O("",!0),$(g.$slots,"default")],16))}},Ve=["src","alt"],Me=["tabindex","controls","loop","muted","controlsList","autoplay","playsinline","poster","title","aria-label"],Fe=["src","label","srclang","kind","default"],We=["innerHTML"],ze=le({__name:"C-Video",props:{tag:{default:"figure"},src:{},srcAlternates:{},title:{},fit:{default:"cover"},position:{default:"center center"},loop:{type:Boolean,default:!1},playsinline:{type:Boolean,default:!0},muted:{type:Boolean,default:!1},controls:{type:Boolean,default:!0},controlsDownload:{type:Boolean,default:!1},controlsFullscreen:{type:Boolean,default:!0},autoplay:{type:Boolean,default:!1},poster:{},borderRadius:{},description:{},tracks:{},aspectRatios:{},colorMode:{}},setup(o){const t=o,{componentName:a}=me(),e=h(()=>{const r={};if(t.aspectRatios)for(const i in t.aspectRatios)r[I(void 0,`has-aspect-ratio-${i}`)]=!0;return C([a,ye().getClasses(t),r])}),s=h(()=>{const r={[I("video")]:!0};return t.borderRadius&&(r[`border-radius-${t.borderRadius}`]=!0),r}),l=h(()=>{const r={};if(t.fit&&(r["object-fit"]=t.fit),t.position&&(r["object-position"]=t.position),t.aspectRatios)for(const i in t.aspectRatios)r[`--aspect-ratio-${i}`]=t.aspectRatios[i];return r}),c=h(()=>t.src?t.src.includes("youtube."):!1),p=h(()=>{if(c.value)return t.src.includes("youtube.")?t.src.split("v=")[1]:c.value}),d=h(()=>{const r=[];if((!t.srcAlternates||!Object.prototype.hasOwnProperty.call(t.srcAlternates,"default"))&&r.push({src:t.src}),t.srcAlternates)for(const i in t.srcAlternates){let u="0px";i!=="default"&&(u=he(`breakpoint-${i}`));const f=t.srcAlternates[i];for(const m in f)r.push({src:f[m],media:u!="0px"?`(min-width: ${u})`:void 0,type:`video/${m}`})}return r.reverse()}),y=h(()=>t.poster?.length||!1),v=h(()=>!!(t.muted||t.autoplay)),_=h(()=>t.autoplay||t.playsinline),n=h(()=>t.tag==="figure"?"figcaption":"span"),P=h(()=>{let r="";if(t.controls)return t.controlsDownload||(r+=" nodownload"),t.controlsFullscreen||(r+=" nofullscreen"),r});return(r,i)=>{const u=G,f=Ye,m=ge;return w(),B(ce(r.tag),{class:C(e.value)},{default:x(()=>[c.value?(w(),B(f,{key:0,class:C(s.value),"video-id":p.value,"player-vars":{controls:r.controls?1:0,loop:r.loop?1:0,playsinline:_.value?1:0}},ue({awaitingLoad:x(()=>[F(u,{icon:"play-circle-outline",class:C(T(I)("play-button")),text:"Video starten",appearance:"primary"},null,8,["class"])]),_:2},[r.poster?{name:"placeholder",fn:x(({})=>[q("img",{src:r.poster,alt:r.title},null,8,Ve)]),key:"0"}:void 0]),1032,["class","video-id","player-vars"])):(w(),k("video",{key:1,class:C(s.value),style:pe(l.value),tabindex:y.value?-1:void 0,controls:r.controls,loop:r.loop,muted:v.value,controlsList:P.value,autoplay:r.autoplay,playsinline:_.value,poster:r.poster,title:r.title,"aria-label":r.title,preload:"metadata",crossorigin:"anonymous",disablePictureInPicture:"true"},[$(r.$slots,"default",{},()=>[(w(!0),k(H,null,Y(d.value,(b,g)=>(w(),k("source",W({key:g},{ref_for:!0},b),null,16))),128)),(w(!0),k(H,null,Y(r.tracks,(b,g)=>(w(),k("track",{key:g,src:b.url,label:b.label,srclang:b.srclang,kind:b.type,default:b.default},null,8,Fe))),128))])],14,Me)),r.description?(w(),B(m,{key:2,tag:n.value,class:C(T(I)("caption"))},{default:x(()=>[q("p",{innerHTML:r.description},null,8,We)]),_:1},8,["tag","class"])):O("",!0)]),_:3},8,["class"])}}}),nt=Object.assign(ze,{__name:"CVideo"});export{nt as default};
