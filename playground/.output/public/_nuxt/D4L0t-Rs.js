import $ from"./vYbKS9gG.js";import{u as r}from"./D2BD6qtZ.js";import{u as h}from"./BIjOWhqp.js";import{u as k}from"./seTeM-B7.js";import{u as B}from"./BCKEK9L1.js";import{e as A,k as o,f as p,w as f,n,s as M,o as l,a as u,v as w,l as j,p as m,c as d,F as I,r as L,m as N,q as T}from"#entry";const V=["src","loading","alt","title"],F=["innerHTML"],H=A({__name:"C-Image",props:{tag:{default:"figure"},src:{},srcAlternates:{},lazy:{type:Boolean,default:!0},title:{},alt:{},fit:{default:"cover"},position:{default:"center center"},autosize:{type:Boolean,default:!1},borderRadius:{},description:{},aspectRatios:{},colorMode:{}},setup(g){const t=g,{componentName:_}=k(),y=o(()=>{const e={};if(t.autosize&&(e[r(void 0,"autosize")]=t.autosize),t.aspectRatios)for(const s in t.aspectRatios)e[r(void 0,`has-aspect-ratio-${s}`)]=!0;return n([_,h().getClasses(t),e])}),C=o(()=>{const e={};if(t.fit&&(e["object-fit"]=t.fit),t.position&&(e["object-position"]=t.position),t.aspectRatios)for(const s in t.aspectRatios)e[`--aspect-ratio-${s}`]=t.aspectRatios[s];return e}),v=o(()=>{const e={[r("image")]:!0};return t.borderRadius&&(e[`border-radius-${t.borderRadius}`]=!0),e}),R=o(()=>{const e=[];if(t.srcAlternates)for(const s in t.srcAlternates){let a="0px";s!=="default"&&(a=B(`breakpoint-${s}`));const i=t.srcAlternates[s];for(const c in i)e.push({srcset:z(i[c]),media:a!="0px"?`(min-width: ${a})`:void 0,type:`image/${c}`})}return e.reverse()});function z(e){let s="";for(const a in e)s+=`${e[a]} ${a}, `;return s.slice(0,-2)}const b=o(()=>t.lazy?"lazy":"eager"),S=o(()=>t.tag==="figure"?"figcaption":"span");return(e,s)=>{const a=$;return l(),p(M(e.tag),{class:n(y.value)},{default:f(()=>[u("picture",{class:n(m(r)("wrapper"))},[j(e.$slots,"default",{},()=>[(l(!0),d(I,null,L(R.value,(i,c)=>(l(),d("source",N({ref_for:!0},i,{key:c}),null,16))),128)),u("img",{src:e.src,loading:b.value,class:n(v.value),style:T(C.value),alt:e.alt,title:e.title,role:"img",draggable:"false"},null,14,V)])],2),e.description?(l(),p(a,{key:0,tag:S.value,class:n(m(r)("caption"))},{default:f(()=>[u("p",{innerHTML:e.description},null,8,F)]),_:1},8,["tag","class"])):w("",!0)]),_:3},8,["class"])}}}),P=Object.assign(H,{__name:"CImage"});export{P as default};
