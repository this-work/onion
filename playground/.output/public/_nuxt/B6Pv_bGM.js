import I from"./CKHfXUIW.js";import M from"./DXqfAmIR.js";import{e as O,f as m,j as G,k as L,w as q,T as V,o as N,c as j,a as u,b as w,n as a,p as o,G as B,l as z}from"#entry";import{u as r}from"./D2BD6qtZ.js";import{u as P}from"./BIjOWhqp.js";import{u as J}from"./seTeM-B7.js";import{g as l}from"./ClTvHOf_.js";import"./CuhneA4w.js";const K=["data-groupName","open"],Q=["aria-expanded","aria-controls"],U=["id","innerHTML"],W=["id","aria-labelledby"],X=O({inheritAttrs:!1,__name:"C-Accordion",props:{label:{},text:{},group:{},initiallyOpened:{type:Boolean,default:!1},colorMode:{}},setup(S){const i=S,{componentName:d}=J(),f=m(null),g=m(null),_=m(null),y=B(),h=B(),n=m(i.initiallyOpened),T=G(()=>a([d,P().getClasses(i),{[r(void 0,"open",d)]:n.value}])),H=t=>{t.preventDefault(),n.value=!n.value,A()},A=()=>{if(i.group){const t=l(f);document.querySelectorAll(`details[data-groupName="${i.group}"]`).forEach(e=>{e!=t&&e.open&&e.querySelector("summary").dispatchEvent(new Event("click",{bubbles:!0}))})}},F=(t,s)=>{const e=t,p=window.getComputedStyle(e),b=l(g),$=window.getComputedStyle(b.parentElement),D=Number.parseFloat($.paddingBottom),c=b.offsetHeight+D,C=l(_),v=window.getComputedStyle(C),x=Math.ceil(C.offsetHeight+Number.parseFloat(v.marginTop)+Number.parseFloat(v.marginBottom));e.open=!0;let k=`${c+x}px`,E=`${c}px`;l(n)&&(k=`${c}px`,E=`${c+x}px`),e.style.transitionDuration="0s",e.style.height=k,e.style.transitionDuration="",requestAnimationFrame(()=>{e.style.height=E}),setTimeout(()=>{s(),l(n)||(e.open=!1),e.style.removeProperty("height")},Number.parseFloat(p.transitionDuration)*1e3)},R=t=>{const s=t;s.style.transitionDuration="0s"};return(t,s)=>{const e=I,p=M;return N(),L(V,{mode:"out-in",onEnter:F,onLeave:R},{default:q(()=>[(N(),j("details",{key:n.value+"",ref_key:"componentRef",ref:f,"data-groupName":t.group,open:t.initiallyOpened,class:a(T.value)},[u("summary",{ref_key:"summaryRef",ref:g,class:a(o(r)("label")),"aria-expanded":n.value,"aria-controls":o(h),onClick:H},[w(e,{tag:"figure",class:a(o(r)("icon")),"aria-hidden":"true",name:"chevron-right",size:"24px"},null,8,["class"]),u("span",{id:o(y),class:a(o(r)("label-text")),innerHTML:t.label},null,10,U)],10,Q),u("div",{id:o(h),ref_key:"contentRef",ref:_,class:a(o(r)("content")),role:"region","aria-labelledby":o(y)},[z(t.$slots,"default",{},()=>[w(p,{text:t.text},null,8,["text"])])],10,W)],10,K))]),_:3})}}}),re=Object.assign(X,{__name:"CAccordion"});export{re as default};
