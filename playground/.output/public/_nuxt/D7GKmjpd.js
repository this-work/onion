import Ie from"./BLt1HXYn.js";import xe from"./gbr0VOra.js";import Le from"./CyqDECWg.js";import _e from"./DXqfAmIR.js";import{j as M,B as fe,f as le,e as Be,g as Ke,C as je,k as V,b as ye,w as Me,T as $e,D as qe,o as D,c as ge,v as K,p as F,a as ee,E as Ge,n as A,G as Ve,l as We,m as ve,q as we,z as ze}from"#entry";import{u as S}from"./D2BD6qtZ.js";import{u as Ye}from"./BIjOWhqp.js";import{u as Ue}from"./seTeM-B7.js";import"./DWMswlZH.js";import"./QHrq6D9Q.js";import"./DAC7Bozu.js";import"./DJmBCHEk.js";import"./BCKEK9L1.js";/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Ce=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],re=Ce.join(","),Oe=typeof Element>"u",x=Oe?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,ne=!Oe&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n?.ownerDocument},ie=function n(e,t){var a;t===void 0&&(t=!0);var l=e==null||(a=e.getAttribute)===null||a===void 0?void 0:a.call(e,"inert"),s=l===""||l==="true",r=s||t&&e&&n(e.parentNode);return r},He=function(e){var t,a=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return a===""||a==="true"},Pe=function(e,t,a){if(ie(e))return[];var l=Array.prototype.slice.apply(e.querySelectorAll(re));return t&&x.call(e,re)&&l.unshift(e),l=l.filter(a),l},Re=function n(e,t,a){for(var l=[],s=Array.from(e);s.length;){var r=s.shift();if(!ie(r,!1))if(r.tagName==="SLOT"){var c=r.assignedElements(),d=c.length?c:r.children,p=n(d,!0,a);a.flatten?l.push.apply(l,p):l.push({scopeParent:r,candidates:p})}else{var N=x.call(r,re);N&&a.filter(r)&&(t||!e.includes(r))&&l.push(r);var w=r.shadowRoot||typeof a.getShadowRoot=="function"&&a.getShadowRoot(r),E=!ie(w,!1)&&(!a.shadowRootFilter||a.shadowRootFilter(r));if(w&&E){var k=n(w===!0?r.children:w.children,!0,a);a.flatten?l.push.apply(l,k):l.push({scopeParent:r,candidates:k})}else s.unshift.apply(s,r.children)}}return l},De=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},I=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||He(e))&&!De(e)?0:e.tabIndex},Ze=function(e,t){var a=I(e);return a<0&&t&&!De(e)?0:a},Xe=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Ae=function(e){return e.tagName==="INPUT"},Je=function(e){return Ae(e)&&e.type==="hidden"},Qe=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(a){return a.tagName==="SUMMARY"});return t},et=function(e,t){for(var a=0;a<e.length;a++)if(e[a].checked&&e[a].form===t)return e[a]},tt=function(e){if(!e.name)return!0;var t=e.form||ne(e),a=function(c){return t.querySelectorAll('input[type="radio"][name="'+c+'"]')},l;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")l=a(window.CSS.escape(e.name));else try{l=a(e.name)}catch(r){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",r.message),!1}var s=et(l,e.form);return!s||s===e},at=function(e){return Ae(e)&&e.type==="radio"},rt=function(e){return at(e)&&!tt(e)},nt=function(e){var t,a=e&&ne(e),l=(t=a)===null||t===void 0?void 0:t.host,s=!1;if(a&&a!==e){var r,c,d;for(s=!!((r=l)!==null&&r!==void 0&&(c=r.ownerDocument)!==null&&c!==void 0&&c.contains(l)||e!=null&&(d=e.ownerDocument)!==null&&d!==void 0&&d.contains(e));!s&&l;){var p,N,w;a=ne(l),l=(p=a)===null||p===void 0?void 0:p.host,s=!!((N=l)!==null&&N!==void 0&&(w=N.ownerDocument)!==null&&w!==void 0&&w.contains(l))}}return s},Te=function(e){var t=e.getBoundingClientRect(),a=t.width,l=t.height;return a===0&&l===0},it=function(e,t){var a=t.displayCheck,l=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=x.call(e,"details>summary:first-of-type"),r=s?e.parentElement:e;if(x.call(r,"details:not([open]) *"))return!0;if(!a||a==="full"||a==="legacy-full"){if(typeof l=="function"){for(var c=e;e;){var d=e.parentElement,p=ne(e);if(d&&!d.shadowRoot&&l(d)===!0)return Te(e);e.assignedSlot?e=e.assignedSlot:!d&&p!==e.ownerDocument?e=p.host:e=d}e=c}if(nt(e))return!e.getClientRects().length;if(a!=="legacy-full")return!0}else if(a==="non-zero-area")return Te(e);return!1},ot=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var a=0;a<t.children.length;a++){var l=t.children.item(a);if(l.tagName==="LEGEND")return x.call(t,"fieldset[disabled] *")?!0:!l.contains(e)}return!0}t=t.parentElement}return!1},oe=function(e,t){return!(t.disabled||ie(t)||Je(t)||it(t,e)||Qe(t)||ot(t))},pe=function(e,t){return!(rt(t)||I(t)<0||!oe(e,t))},lt=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},st=function n(e){var t=[],a=[];return e.forEach(function(l,s){var r=!!l.scopeParent,c=r?l.scopeParent:l,d=Ze(c,r),p=r?n(l.candidates):c;d===0?r?t.push.apply(t,p):t.push(c):a.push({documentOrder:s,tabIndex:d,item:l,isScope:r,content:p})}),a.sort(Xe).reduce(function(l,s){return s.isScope?l.push.apply(l,s.content):l.push(s.content),l},[]).concat(t)},ut=function(e,t){t=t||{};var a;return t.getShadowRoot?a=Re([e],t.includeContainer,{filter:pe.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:lt}):a=Pe(e,t.includeContainer,pe.bind(null,t)),st(a)},ct=function(e,t){t=t||{};var a;return t.getShadowRoot?a=Re([e],t.includeContainer,{filter:oe.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):a=Pe(e,t.includeContainer,oe.bind(null,t)),a},j=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return x.call(e,re)===!1?!1:pe(t,e)},dt=Ce.concat("iframe").join(","),be=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return x.call(e,dt)===!1?!1:oe(t,e)};/*!
* focus-trap 7.6.5
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function me(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,a=Array(e);t<e;t++)a[t]=n[t];return a}function ft(n){if(Array.isArray(n))return me(n)}function vt(n,e,t){return(e=yt(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function pt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ne(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),t.push.apply(t,a)}return t}function Ee(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ne(Object(t),!0).forEach(function(a){vt(n,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ne(Object(t)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(t,a))})}return n}function mt(n){return ft(n)||bt(n)||gt(n)||pt()}function ht(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var a=t.call(n,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function yt(n){var e=ht(n,"string");return typeof e=="symbol"?e:e+""}function gt(n,e){if(n){if(typeof n=="string")return me(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?me(n,e):void 0}}var ke={activateTrap:function(e,t){if(e.length>0){var a=e[e.length-1];a!==t&&a._setPausedState(!0)}var l=e.indexOf(t);l===-1||e.splice(l,1),e.push(t)},deactivateTrap:function(e,t){var a=e.indexOf(t);a!==-1&&e.splice(a,1),e.length>0&&!e[e.length-1]._isManuallyPaused()&&e[e.length-1]._setPausedState(!1)}},wt=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Tt=function(e){return e?.key==="Escape"||e?.key==="Esc"||e?.keyCode===27},U=function(e){return e?.key==="Tab"||e?.keyCode===9},Nt=function(e){return U(e)&&!e.shiftKey},Et=function(e){return U(e)&&e.shiftKey},Se=function(e){return setTimeout(e,0)},W=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),l=1;l<t;l++)a[l-1]=arguments[l];return typeof e=="function"?e.apply(void 0,a):e},te=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},kt=[],St=function(e,t){var a=t?.document||document,l=t?.trapStack||kt,s=Ee({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Nt,isKeyBackward:Et},t),r={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},c,d=function(i,o,u){return i&&i[o]!==void 0?i[o]:s[u||o]},p=function(i,o){var u=typeof o?.composedPath=="function"?o.composedPath():void 0;return r.containerGroups.findIndex(function(v){var b=v.container,y=v.tabbableNodes;return b.contains(i)||u?.includes(b)||y.find(function(f){return f===i})})},N=function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=o.hasFallback,v=u===void 0?!1:u,b=o.params,y=b===void 0?[]:b,f=s[i];if(typeof f=="function"&&(f=f.apply(void 0,mt(y))),f===!0&&(f=void 0),!f){if(f===void 0||f===!1)return f;throw new Error("`".concat(i,"` was specified but was not a node, or did not return a node"))}var g=f;if(typeof f=="string"){try{g=a.querySelector(f)}catch(T){throw new Error("`".concat(i,'` appears to be an invalid selector; error="').concat(T.message,'"'))}if(!g&&!v)throw new Error("`".concat(i,"` as selector refers to no known node"))}return g},w=function(){var i=N("initialFocus",{hasFallback:!0});if(i===!1)return!1;if(i===void 0||i&&!be(i,s.tabbableOptions))if(p(a.activeElement)>=0)i=a.activeElement;else{var o=r.tabbableGroups[0],u=o&&o.firstTabbableNode;i=u||N("fallbackFocus")}else i===null&&(i=N("fallbackFocus"));if(!i)throw new Error("Your focus-trap needs to have at least one focusable element");return i},E=function(){if(r.containerGroups=r.containers.map(function(i){var o=ut(i,s.tabbableOptions),u=ct(i,s.tabbableOptions),v=o.length>0?o[0]:void 0,b=o.length>0?o[o.length-1]:void 0,y=u.find(function(T){return j(T)}),f=u.slice().reverse().find(function(T){return j(T)}),g=!!o.find(function(T){return I(T)>0});return{container:i,tabbableNodes:o,focusableNodes:u,posTabIndexesFound:g,firstTabbableNode:v,lastTabbableNode:b,firstDomTabbableNode:y,lastDomTabbableNode:f,nextTabbableNode:function(R){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,O=o.indexOf(R);return O<0?q?u.slice(u.indexOf(R)+1).find(function(G){return j(G)}):u.slice(0,u.indexOf(R)).reverse().find(function(G){return j(G)}):o[O+(q?1:-1)]}}}),r.tabbableGroups=r.containerGroups.filter(function(i){return i.tabbableNodes.length>0}),r.tabbableGroups.length<=0&&!N("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(r.containerGroups.find(function(i){return i.posTabIndexesFound})&&r.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},k=function(i){var o=i.activeElement;if(o)return o.shadowRoot&&o.shadowRoot.activeElement!==null?k(o.shadowRoot):o},C=function(i){if(i!==!1&&i!==k(document)){if(!i||!i.focus){C(w());return}i.focus({preventScroll:!!s.preventScroll}),r.mostRecentlyFocusedNode=i,wt(i)&&i.select()}},$=function(i){var o=N("setReturnFocus",{params:[i]});return o||(o===!1?!1:i)},L=function(i){var o=i.target,u=i.event,v=i.isBackward,b=v===void 0?!1:v;o=o||te(u),E();var y=null;if(r.tabbableGroups.length>0){var f=p(o,u),g=f>=0?r.containerGroups[f]:void 0;if(f<0)b?y=r.tabbableGroups[r.tabbableGroups.length-1].lastTabbableNode:y=r.tabbableGroups[0].firstTabbableNode;else if(b){var T=r.tabbableGroups.findIndex(function(ce){var de=ce.firstTabbableNode;return o===de});if(T<0&&(g.container===o||be(o,s.tabbableOptions)&&!j(o,s.tabbableOptions)&&!g.nextTabbableNode(o,!1))&&(T=f),T>=0){var R=T===0?r.tabbableGroups.length-1:T-1,q=r.tabbableGroups[R];y=I(o)>=0?q.lastTabbableNode:q.lastDomTabbableNode}else U(u)||(y=g.nextTabbableNode(o,!1))}else{var O=r.tabbableGroups.findIndex(function(ce){var de=ce.lastTabbableNode;return o===de});if(O<0&&(g.container===o||be(o,s.tabbableOptions)&&!j(o,s.tabbableOptions)&&!g.nextTabbableNode(o))&&(O=f),O>=0){var G=O===r.tabbableGroups.length-1?0:O+1,he=r.tabbableGroups[G];y=I(o)>=0?he.firstTabbableNode:he.firstDomTabbableNode}else U(u)||(y=g.nextTabbableNode(o))}}else y=N("fallbackFocus");return y},_=function(i){var o=te(i);if(!(p(o,i)>=0)){if(W(s.clickOutsideDeactivates,i)){c.deactivate({returnFocus:s.returnFocusOnDeactivate});return}W(s.allowOutsideClick,i)||i.preventDefault()}},H=function(i){var o=te(i),u=p(o,i)>=0;if(u||o instanceof Document)u&&(r.mostRecentlyFocusedNode=o);else{i.stopImmediatePropagation();var v,b=!0;if(r.mostRecentlyFocusedNode)if(I(r.mostRecentlyFocusedNode)>0){var y=p(r.mostRecentlyFocusedNode),f=r.containerGroups[y].tabbableNodes;if(f.length>0){var g=f.findIndex(function(T){return T===r.mostRecentlyFocusedNode});g>=0&&(s.isKeyForward(r.recentNavEvent)?g+1<f.length&&(v=f[g+1],b=!1):g-1>=0&&(v=f[g-1],b=!1))}}else r.containerGroups.some(function(T){return T.tabbableNodes.some(function(R){return I(R)>0})})||(b=!1);else b=!1;b&&(v=L({target:r.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(r.recentNavEvent)})),C(v||r.mostRecentlyFocusedNode||w())}r.recentNavEvent=void 0},se=function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r.recentNavEvent=i;var u=L({event:i,isBackward:o});u&&(U(i)&&i.preventDefault(),C(u))},Z=function(i){(s.isKeyForward(i)||s.isKeyBackward(i))&&se(i,s.isKeyBackward(i))},X=function(i){Tt(i)&&W(s.escapeDeactivates,i)!==!1&&(i.preventDefault(),c.deactivate())},P=function(i){var o=te(i);p(o,i)>=0||W(s.clickOutsideDeactivates,i)||W(s.allowOutsideClick,i)||(i.preventDefault(),i.stopImmediatePropagation())},J=function(){if(r.active)return ke.activateTrap(l,c),r.delayInitialFocusTimer=s.delayInitialFocus?Se(function(){C(w())}):C(w()),a.addEventListener("focusin",H,!0),a.addEventListener("mousedown",_,{capture:!0,passive:!1}),a.addEventListener("touchstart",_,{capture:!0,passive:!1}),a.addEventListener("click",P,{capture:!0,passive:!1}),a.addEventListener("keydown",Z,{capture:!0,passive:!1}),a.addEventListener("keydown",X),c},Q=function(){if(r.active)return a.removeEventListener("focusin",H,!0),a.removeEventListener("mousedown",_,!0),a.removeEventListener("touchstart",_,!0),a.removeEventListener("click",P,!0),a.removeEventListener("keydown",Z,!0),a.removeEventListener("keydown",X),c},ue=function(i){var o=i.some(function(u){var v=Array.from(u.removedNodes);return v.some(function(b){return b===r.mostRecentlyFocusedNode})});o&&C(w())},h=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(ue):void 0,B=function(){h&&(h.disconnect(),r.active&&!r.paused&&r.containers.map(function(i){h.observe(i,{subtree:!0,childList:!0})}))};return c={get active(){return r.active},get paused(){return r.paused},activate:function(i){if(r.active)return this;var o=d(i,"onActivate"),u=d(i,"onPostActivate"),v=d(i,"checkCanFocusTrap");v||E(),r.active=!0,r.paused=!1,r.nodeFocusedBeforeActivation=k(a),o?.();var b=function(){v&&E(),J(),B(),u?.()};return v?(v(r.containers.concat()).then(b,b),this):(b(),this)},deactivate:function(i){if(!r.active)return this;var o=Ee({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},i);clearTimeout(r.delayInitialFocusTimer),r.delayInitialFocusTimer=void 0,Q(),r.active=!1,r.paused=!1,B(),ke.deactivateTrap(l,c);var u=d(o,"onDeactivate"),v=d(o,"onPostDeactivate"),b=d(o,"checkCanReturnFocus"),y=d(o,"returnFocus","returnFocusOnDeactivate");u?.();var f=function(){Se(function(){y&&C($(r.nodeFocusedBeforeActivation)),v?.()})};return y&&b?(b($(r.nodeFocusedBeforeActivation)).then(f,f),this):(f(),this)},pause:function(i){return r.active?(r.manuallyPaused=!0,this._setPausedState(!0,i)):this},unpause:function(i){return r.active?(r.manuallyPaused=!1,l[l.length-1]!==this?this:this._setPausedState(!1,i)):this},updateContainerElements:function(i){var o=[].concat(i).filter(Boolean);return r.containers=o.map(function(u){return typeof u=="string"?a.querySelector(u):u}),r.active&&E(),B(),this}},Object.defineProperties(c,{_isManuallyPaused:{value:function(){return r.manuallyPaused}},_setPausedState:{value:function(i,o){if(r.paused===i)return this;if(r.paused=i,i){var u=d(o,"onPause"),v=d(o,"onPostPause");u?.(),Q(),B(),v?.()}else{var b=d(o,"onUnpause"),y=d(o,"onPostUnpause");b?.(),E(),J(),B(),y?.()}return this}}}),c.updateContainerElements(e),c};const z=le([]),Y=le(new Map);let Fe=0;function Ft(){return Fe++,Fe}function Ct(n=Ft().toString()){const e=()=>{const r=z.value.length;Y.value.set(n,{isOpen:!0,level:r}),z.value.push(n)},t=()=>{Y.value.delete(n);const r=z.value.indexOf(n);r!==-1&&z.value.splice(r,1)},a=()=>Y.value.get(n),l=M(()=>!!Y.value.get(n)?.isOpen),s=M(()=>Y.value.get(n)?.level??0);return{open:e,close:t,getState:a,isOpen:fe(l),level:fe(s),modalStack:fe(z)}}const Ot={scrollLocker:{affectedElements:[{selector:"body",property:"right"}]}},ae=le(0);function Pt(){const e=Ot.scrollLocker.affectedElements||[];return{lock:()=>{if(!(typeof window>"u")&&(ae.value++,ae.value===1)){const l=document.querySelector("html"),s=window.innerWidth-document.documentElement.clientWidth;s>0&&(l?.style.setProperty("margin-right",`${s}px`),e.forEach(({element:r,selector:c,property:d})=>{const p=r||(c?document.querySelector(c):null);p&&p.style.setProperty(d,`${s}px`)})),document.body.style.setProperty("top",`-${window.scrollY}px`),l?.classList.add("has-no-scroll")}},unlock:()=>{if(!(typeof window>"u")&&(ae.value--,ae.value===0)){const l=document.body.style.top,s=document.querySelector("html");s&&s.style.removeProperty("margin-right"),e.forEach(({element:r,selector:c,property:d})=>{const p=r||(c?document.querySelector(c):null);p&&p.style.removeProperty(d)}),s?.classList.remove("has-no-scroll"),document.body.style.removeProperty("top"),l&&window.scrollTo(0,Number.parseInt(l||"0")*-1)}}}}const Rt=["innerHTML"],Dt=Be({__name:"C-Modal",props:{rootElement:{default:"body"},show:{type:Boolean,default:!1},fullwidth:{type:Boolean,default:!1},content:{},title:{},image:{},headline:{},text:{},width:{default:600},colorMode:{}},emits:["update:show","close"],setup(n,{expose:e,emit:t}){const a=n,l=`modal-content-${Ve()}`,{isOpen:s,level:r,open:c,close:d}=Ct(),{lock:p,unlock:N}=Pt(),w=le(null);let E=null,k=null;Ke(()=>a.show,h=>{h?c():d()},{immediate:!0});const C=()=>{if(!w.value)return;k=document.activeElement;const h=w.value;E=St(h,{fallbackFocus:()=>h,clickOutsideDeactivates:!0}),E.activate()},$=t,L=()=>{d(),$("update:show",!1),$("close")},_=h=>{console.log("escaped"),h.key==="Escape"&&L()},H=h=>{h.target===h.currentTarget&&L()},se=()=>{C(),p()},Z=()=>{E&&E.deactivate(),k&&"focus"in k&&k.focus()};je(()=>{E&&E.deactivate(),k&&"focus"in k&&k.focus(),N()});const X=M(()=>a.image||a.headline||a.text||a.content||ze().default),P=M(()=>a.image||a.headline||a.text),J=M(()=>!P.value),{componentName:Q}=Ue(),ue=M(()=>A([Q,Ye().getClasses(a),{[S(void 0,"fullwidth")]:a.fullwidth,[S(void 0,"simple")]:P.value,[S(void 0,"complex")]:J.value,[S(void 0,"no-title")]:!a.title}]));return e({open:c,close:d}),(h,B)=>{const m=Ie,i=xe,o=Le,u=_e;return D(),V(qe,{to:h.rootElement},[ye($e,{name:"transition-c-modal",onEnter:se,onLeave:Z},{default:Me(()=>[F(s)?(D(),ge("aside",{key:0,class:A(ue.value),style:we({background:F(r)===0?"rgba(0, 0, 0, 0.8)":"rgba(0, 0, 0, 0.25)",zIndex:900+F(r)*10}),onClick:H},[ee("div",{class:A(F(S)("container")),style:we(P.value?{width:`${h.width}px`}:{})},[ee("div",{ref_key:"modalRef",ref:w,role:"dialog","aria-modal":"true","aria-describedby":l,class:A(F(S)("box")),onKeydown:Ge(_,["esc"])},[ee("div",{class:A(F(S)("controls"))},[ye(m,{icon:"close-rounded","aria-label":"Close modal",background:"soft",onClick:L})],2),h.title&&P.value?(D(),V(i,{key:0,headline:h.title,class:A(F(S)("title")),"headline-type":"h6","headline-tag":"h3"},null,8,["headline","class"])):K("",!0),X.value?(D(),ge("article",{key:1,id:l,class:A(F(S)("content"))},[h.image?(D(),V(o,ve({key:0},h.image,{class:F(S)("image")}),null,16,["class"])):K("",!0),h.headline?(D(),V(i,ve({key:1},h.headline,{class:F(S)("headline")}),null,16,["class"])):K("",!0),h.text?(D(),V(u,ve({key:2},h.text,{class:F(S)("text")}),null,16,["class"])):K("",!0),We(h.$slots,"default",{},()=>[ee("div",{innerHTML:h.content},null,8,Rt)])],2)):K("",!0)],34)],6)],6)):K("",!0)]),_:3})],8,["to"])}}}),Wt=Object.assign(Dt,{__name:"CModal"});export{Wt as default};
